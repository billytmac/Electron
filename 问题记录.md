- 安装 electron 依赖包失败问题：

  - 创建.npmrc 文件并写入 ELECTRON_MIRROR="https://npmmirror.com/mirrors/electron/" (推荐)
  - 用 cnpm 源下载

- 用 npm 启动成功，用 pnpm 启动会报错问题：
   在 A 路径（node_modules/.pnpm/electron@37.4.0/node_modules/electron）下执行以下操作：
   - 自动安装：node install.js
   - 如自动安装失败，可尝试手动安装：
     - 可在https://github.com/electron/electron/releases/tag/v37.4.0 下选择对应 electron-xxxx-xxx.zip 格式版本进行下载，如 electron-v37.4.0-win32-arm64.zip，将下载的 zip 文件放在 A 路径下
     - 进入 A 路径下的 install.js 代码里，添加 extractFile('./electron-v37.4.0-win32-x64.zip')该代码，并注释掉 downloads if not cached 下的一部分代码
       ```
         extractFile('./electron-v37.4.0-win32-x64.zip')
           // downloads if not cached
           // downloadArtifact({
           // version,
           // artifactName: 'electron',
           // force: process.env.force_no_cache === 'true',
           // cacheRoot: process.env.electron_config_cache,
           // checksums: process.env.electron_use_remote_checksums ?? process.env.npm_config_electron_use_remote_checksums ? undefined : require('./checksums.json'),
           // platform,
           // arch
           // }).then(extractFile).catch(err => {
           // console.error(err.stack);
           // process.exit(1);
           // });
       ```

- pnpm publish 时遇到“Error: Failed to locate module "debug" from "/Users/.../electron-forge-template/node_modules/electron-squirrel-startup"
  .npmrc 文件里添加以下代码

  ```
    node-linker=hoisted
    public-hoist-pattern=*
  ```

  相关 issues：https://github.com/electron/forge/issues/2633#issuecomment-1174790013

- 本地运行控制台有乱码问题
  需在 package.json 里加上 chcp 65001，如：
  ```
    "start": "chcp 65001 && electron-forge start",
  ```
- 安装完@electron-forge/maker-squirrel，在执行 pnpm publish 会出现报错问题
  需手动安装下 electron-winstaller

- 使用 update-electron-app 无法监听到更新
  - 开发环境下无法监听，需在打包后的环境（否则会报“Can not find Squirrel”）
  - maker 需为 Squirrel.Windows 格式，并禁用 ZIP 格式，因为 Squirrel 格式里不支持 zip 格式的更新（否则会报"Invalid release entry"）
  - update-electron-app 依赖于 app.isPackaged，但官方 app.isPackaged 判断不准确，需自己写一个判断是否为打包环境（可看下 main.js 的 realProduction），在打包环境中手动改动 app.isPackaged 之后，update-electron-app 才能监听到更新
- 打包之后，如何查看那些 log 日志
  - 在界面点击查看日志文件路径按钮即可查看
